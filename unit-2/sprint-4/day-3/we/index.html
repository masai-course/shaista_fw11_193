<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
</head>

<style>
body{
    background-color: rgb(3, 3, 56);
    color: aliceblue;
}
    #data {
        display: grid;
        grid-template-columns: 20% 20% 20% 20%;
        grid-gap: 5%;
        
    }

    img {
        width: 40%;
        background-color: aqua;
    }

    #data div {
        display: flex;
        
        flex-direction: column;
        align-items: center;
    }
    #bt{
        margin: 200px 600px
    }
    #bt button{
        width: 150px;
        height: 40px;
        font-size: 20px;

    }
</style>

<body>
    <h1>Products Inventory</h1>
 

    <div id="data"></div>
       <div id="bt"> <button> <a href="card.html">Visit My card</a></button></div>

</body>

</html>

<script>
    //WE 2 - Create mock data of products. Store in localstorage, display it on webpage.

    //Step 1 - create products data - array of objects

   const detergents = [{
        name:"Watch",
        price : "250",
        image:"https://rukminim1.flixcart.com/image/880/1056/kbl4cy80/watch/r/m/o/skm-1155-blue-skmei-original-imafsvz4jx3zvqd9.jpeg?q=50",
    },
    {
        name:"Shoes",
        price : "250",
        image:"https://media-cldnry.s-nbcnews.com/image/upload/t_fit-2000w,f_auto,q_auto:best/newscms/2020_17/3318911/200422-eco-shoes-2x1-al-1218.jpg",
    },
    {
        name:"Phone",
        price : "250",
        image:"https://rukminim1.flixcart.com/image/612/612/k52s58w0/headphone/q/v/b/zebronics-zeb-symphony-original-imafnuefgmr5etzv.jpeg?q=70",
    },{
        name:"Headphones",
        price : "250",
        image:"https://rukminim1.flixcart.com/image/612/612/k0vbgy80pkrrdj/headphone/u/m/j/boat-bassheads-900-super-extra-bass-original-imafg96fxtvvbghf.jpeg?q=70",
    },{
        name:"Maggi",
        price : "250",
        image:"https://rukminim1.flixcart.com/image/280/280/k40798w0/noodle/k/a/y/840-masala-instant-noodles-maggi-original-imafny8hdrgrm7jd.jpeg?q=70",
    },{
        name:"Specs",
        price : "250",
        image:"https://rukminim1.flixcart.com/image/150/150/k070zgw0/sunglass/w/p/z/free-size-sg-45-eyevy-original-imafh5jbtv4np5gz.jpeg?q=70",
    },{
        name:"Cap",
        price : "250",
        image:"https://rukminim1.flixcart.com/image/150/150/kbjox3k0/cap/p/z/u/free-vroc-nb-vrojass-original-imafsuqywhkzhfcs.jpeg?q=70",
    },{
        name:"Sofa",
        price : "250",
        image:"https://rukminim1.flixcart.com/image/150/150/jfk00i80/inflatable-sofa/d/g/q/pvc-leatherette-2-seater-inflatable-sofa-color-black-wds-original-imaf3j6fzyhywqrq.jpeg?q=70",
    },
    ];

    //Step 2 - Convert to JSON
   // console.log(myprd);
    const detergents_json = JSON.stringify(detergents);

    //step 3 - Store above data in localstorage

    localStorage.setItem("myDetergents", detergents_json);

    //Step 4 - Display on webpage

    let myDetergents = localStorage.getItem("myDetergents");

    //Step 4.1 - convert into operatable format, object!

    myDetergents = JSON.parse(myDetergents);
    //var cnt=1;
    function showProducts() {
        let data_div = document.getElementById("data");

        myDetergents.forEach(function (product) {
            let div = document.createElement("div");

            let p_name = document.createElement("p");

            p_name.innerText = product.name;

            let p_price = document.createElement("p");

            p_price.innerText = product.price;

            let image = document.createElement("img");

            image.src = product.image;

            let btn = document.createElement("button");

            btn.innerText = "Add to card";
            // let count = document.createElement("text");

            // cnt=1;
            btn.onclick = function () {
                addtoCard(product);


            };

            div.append(image, p_name, p_price, btn);

            data_div.append(div);
        });
    }

    showProducts();
    if (localStorage.getItem("card") === null) {
        localStorage.setItem("card", JSON.stringify([]));
    }


   var cardtemp=[];
    function addtoCard(p) {


        let card_data = JSON.parse(localStorage.getItem("card"));
        
        for(key in card_data){
            cardtemp.push(card_data[key].name);
        }
        if(cardtemp.indexOf(p.name)  != -1){
            alert("proud is present")
        }else{
            card_data.push(p);
        }
        localStorage.setItem("card", JSON.stringify(card_data));

    }
  const check = obj => obj.name === "p.name";
    
</script>