<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>


    <style>
    
    
    </style>
</head>
<body>
    <h1>Covid Vaccination alert system</h1>

    <input type="text" id="name" placeholder="Enetr name">



    <button onclick="register()"> Register</button>
</body>
</html>

<script>


let queue =["jethalal","ronaldo","Kejriwal","Babu bhaiyaa","thanos"]; // array to store

function register(){ //function to start registration

    let person = document.getElementById("name").value; //taking name of person

    queue.push(person); //adding person to array

    let message = `${person} your registration is successfull. Now go and wait`; 

   alert(message); //displaying alert meassage after adding

   let promise = new Promise(function(resolve,reject){

       setInterval(function(){
                if(queue[0]=== person){
                    resolve(`${person},its your turn now`);
                }
       },2000);//keep on checking for turn
   });

    console.log(promise);

   promise.then(function(res){
       console.log("res:", res);
   })

}

function startVaccination(){
    queue.shift();
    console.log("queue:",queue);

    if(queue.length === 0){
        clearInterval(interval);
    }
   
}

startVaccination();

var interval = setInterval(startVaccination,2000);

</script>